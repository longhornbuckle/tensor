<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>PXXXXR0: Tensor</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }

    del { background: #fcc; color: #000; text-decoration: line-through; }
    ins { background: #cfc; color: #000; }
    blockquote .highlight:not(.idl) { background: initial; margin: initial; padding: 0.5em }
    blockquote ul { background: inherit; }
    blockquote code.highlight:not(.idl) { padding: initial; }
    blockquote c-[a] { color: inherit; } /* Keyword.Declaration */
    blockquote c-[b] { color: inherit; } /* Keyword.Type */
    blockquote c-[c] { color: inherit; } /* Comment */
    blockquote c-[d] { color: inherit; } /* Comment.Multiline */
    blockquote c-[e] { color: inherit; } /* Name.Attribute */
    blockquote c-[f] { color: inherit; } /* Name.Tag */
    blockquote c-[g] { color: inherit; } /* Name.Variable */
    blockquote c-[k] { color: inherit; } /* Keyword */
    blockquote c-[l] { color: inherit; } /* Literal */
    blockquote c-[m] { color: inherit; } /* Literal.Number */
    blockquote c-[n] { color: inherit; } /* Name */
    blockquote c-[o] { color: inherit; } /* Operator */
    blockquote c-[p] { color: inherit; } /* Punctuation */
    blockquote c-[s] { color: inherit; } /* Literal.String */
    blockquote c-[t] { color: inherit; } /* Literal.String.Single */
    blockquote c-[u] { color: inherit; } /* Literal.String.Double */
    blockquote c-[cp] { color: inherit; } /* Comment.Preproc */
    blockquote c-[c1] { color: inherit; } /* Comment.Single */
    blockquote c-[cs] { color: inherit; } /* Comment.Special */
    blockquote c-[kc] { color: inherit; } /* Keyword.Constant */
    blockquote c-[kn] { color: inherit; } /* Keyword.Namespace */
    blockquote c-[kp] { color: inherit; } /* Keyword.Pseudo */
    blockquote c-[kr] { color: inherit; } /* Keyword.Reserved */
    blockquote c-[ld] { color: inherit; } /* Literal.Date */
    blockquote c-[nc] { color: inherit; } /* Name.Class */
    blockquote c-[no] { color: inherit; } /* Name.Constant */
    blockquote c-[nd] { color: inherit; } /* Name.Decorator */
    blockquote c-[ni] { color: inherit; } /* Name.Entity */
    blockquote c-[ne] { color: inherit; } /* Name.Exception */
    blockquote c-[nf] { color: inherit; } /* Name.Function */
    blockquote c-[nl] { color: inherit; } /* Name.Label */
    blockquote c-[nn] { color: inherit; } /* Name.Namespace */
    blockquote c-[py] { color: inherit; } /* Name.Property */
    blockquote c-[ow] { color: inherit; } /* Operator.Word */
    blockquote c-[mb] { color: inherit; } /* Literal.Number.Bin */
    blockquote c-[mf] { color: inherit; } /* Literal.Number.Float */
    blockquote c-[mh] { color: inherit; } /* Literal.Number.Hex */
    blockquote c-[mi] { color: inherit; } /* Literal.Number.Integer */
    blockquote c-[mo] { color: inherit; } /* Literal.Number.Oct */
    blockquote c-[sb] { color: inherit; } /* Literal.String.Backtick */
    blockquote c-[sc] { color: inherit; } /* Literal.String.Char */
    blockquote c-[sd] { color: inherit; } /* Literal.String.Doc */
    blockquote c-[se] { color: inherit; } /* Literal.String.Escape */
    blockquote c-[sh] { color: inherit; } /* Literal.String.Heredoc */
    blockquote c-[si] { color: inherit; } /* Literal.String.Interpol */
    blockquote c-[sx] { color: inherit; } /* Literal.String.Other */
    blockquote c-[sr] { color: inherit; } /* Literal.String.Regex */
    blockquote c-[ss] { color: inherit; } /* Literal.String.Symbol */
    blockquote c-[vc] { color: inherit; } /* Name.Variable.Class */
    blockquote c-[vg] { color: inherit; } /* Name.Variable.Global */
    blockquote c-[vi] { color: inherit; } /* Name.Variable.Instance */
    blockquote c-[il] { color: inherit; } /* Literal.Number.Integer.Long */
  </style>
  <meta content="Bikeshed version 3383f409d, updated Fri Apr 28 15:49:22 2023 -0700" name="generator">
  <link href="https://github.com/longhornbuckle/tensor" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
<style>/* style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}
</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}
</style>
<style>/* style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">PXXXXR0<br>Tensor</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">, <time class="dt-updated" datetime="2023-05-12">2023-05-12</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://github.com/longhornbuckle/tensor">https://github.com/longhornbuckle/tensor</a>
     <dt class="editor">Authors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:longhornbuckle@utexas.edu">Richard Warren Hornbuckle</a>
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:aurumpuro@gmail.com">Enrico Mauro</a>
     <dt>Project:
     <dd>ISO/IEC JTC1/SC22/WG21 14882: Programming Language — C++
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>A proposal for a C++ STL tensor container.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#motiv"><span class="secno">2</span> <span class="content">Motivation and Scope</span></a>
    <li>
     <a href="#descript"><span class="secno">3</span> <span class="content">Description</span></a>
     <ol class="toc">
      <li>
       <a href="#tensor-expressions"><span class="secno">3.1</span> <span class="content">Tensor Expressions</span></a>
       <ol class="toc">
        <li><a href="#tensor-expression"><span class="secno">3.1.1</span> <span class="content">Tensor Expression</span></a>
        <li><a href="#unary-tensor-expression"><span class="secno">3.1.2</span> <span class="content">Unary Tensor Expression</span></a>
        <li><a href="#binary-tensor-expression"><span class="secno">3.1.3</span> <span class="content">Binary Tensor Expression</span></a>
        <li>
         <a href="#tensor-expression-traits"><span class="secno">3.1.4</span> <span class="content">Tensor Expression Traits</span></a>
         <ol class="toc">
          <li><a href="#commutative"><span class="secno">3.1.4.1</span> <span class="content">Commutative</span></a>
          <li><a href="#associative"><span class="secno">3.1.4.2</span> <span class="content">Associative</span></a>
          <li><a href="#distributive"><span class="secno">3.1.4.3</span> <span class="content">Distributive</span></a>
         </ol>
       </ol>
      <li>
       <a href="#additional-concepts"><span class="secno">3.2</span> <span class="content">Additional Concepts</span></a>
       <ol class="toc">
        <li><a href="#matrix-expression"><span class="secno">3.2.1</span> <span class="content">Matrix Expression</span></a>
        <li><a href="#vector-expression"><span class="secno">3.2.2</span> <span class="content">Vector Expression</span></a>
        <li><a href="#readable-tensor"><span class="secno">3.2.3</span> <span class="content">Readable Tensor</span></a>
        <li><a href="#writable-tensor"><span class="secno">3.2.4</span> <span class="content">Writable Tensor</span></a>
        <li><a href="#static-tensor"><span class="secno">3.2.5</span> <span class="content">Static Tensor</span></a>
        <li><a href="#dynamic-tensor"><span class="secno">3.2.6</span> <span class="content">Dynamic Tensor</span></a>
       </ol>
      <li><a href="#tensor"><span class="secno">3.3</span> <span class="content">Tensor</span></a>
      <li><a href="#helpers"><span class="secno">3.4</span> <span class="content">Helpers</span></a>
     </ol>
    <li>
     <a href="#questions"><span class="secno">4</span> <span class="content">Design Questions</span></a>
     <ol class="toc">
      <li><a href="#fixed-size-tensor"><span class="secno">4.1</span> <span class="content">Fixed Size Tensor</span></a>
      <li><a href="#capacity-and-reserve"><span class="secno">4.2</span> <span class="content">Capacity and Reserve</span></a>
      <li><a href="#dynamic-only-extents"><span class="secno">4.3</span> <span class="content">Dynamic Only Extents</span></a>
      <li><a href="#tensor-expressions-contain-by-value"><span class="secno">4.4</span> <span class="content">Tensor Expressions Contain by Value</span></a>
      <li><a href="#implementation-freedoms-in-compound-expressions"><span class="secno">4.5</span> <span class="content">Implementation Freedoms in Compound Expressions</span></a>
      <li><a href="#simplification-and-simultaneous-evaluation"><span class="secno">4.6</span> <span class="content">Simplification and Simultaneous Evaluation</span></a>
      <li><a href="#nodiscard-clarification"><span class="secno">4.7</span> <span class="content">[<span>[nodiscard]</span>] Clarification</span></a>
      <li><a href="#safe-memory-access"><span class="secno">4.8</span> <span class="content">Safe Memory Access</span></a>
      <li><a href="#resize-mapping_type"><span class="secno">4.9</span> <span class="content">Resize mapping_type</span></a>
      <li><a href="#-assume-restrict-p"><span class="secno">4.10</span> <span class="content">[[ assume( restrict( p ) ) ]]</span></a>
      <li><a href="#vector-and-matrix-aliases"><span class="secno">4.11</span> <span class="content">Vector and Matrix Aliases</span></a>
      <li><a href="#limitations-without-iterators"><span class="secno">4.12</span> <span class="content">Limitations without Iterators</span></a>
      <li><a href="#mdslice-submdspan-or-subtensor"><span class="secno">4.13</span> <span class="content">mdslice, submdspan, or subtensor</span></a>
      <li><a href="#rank-one-extents-implicit-conversions"><span class="secno">4.14</span> <span class="content">Rank One Extents Implicit Conversions</span></a>
     </ol>
    <li>
     <a href="#considered-not-pursued"><span class="secno">5</span> <span class="content">Considered. Not Pursued.</span></a>
     <ol class="toc">
      <li><a href="#multi-dimensional-iterators"><span class="secno">5.1</span> <span class="content">Multi-dimensional Iterators</span></a>
      <li><a href="#inverse-eigen-vectors-and-everything-else"><span class="secno">5.2</span> <span class="content">Inverse, Eigen Vectors, and Everything Else</span></a>
      <li><a href="#additional-stl-vector-like-functions"><span class="secno">5.3</span> <span class="content">Additional STL Vector-like functions</span></a>
      <li><a href="#comparison-operators"><span class="secno">5.4</span> <span class="content">Comparison Operators</span></a>
      <li><a href="#element-wise-multiply-and-divide"><span class="secno">5.5</span> <span class="content">Element-wise Multiply and Divide</span></a>
      <li><a href="#tensor-bool"><span class="secno">5.6</span> <span class="content">tensor&lt; bool, ... ></span></a>
      <li><a href="#non-contiguous-buffers"><span class="secno">5.7</span> <span class="content">Non-contiguous buffers</span></a>
     </ol>
    <li><a href="#acknowledge"><span class="secno">6</span> <span class="content">Acknowledgements</span></a>
    <li><a href="#related"><span class="secno">7</span> <span class="content">Related Work</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>Tensor is a container that reinterprets a contiguous buffer as a multidimensional array.
It provides an interface to perform Linear Algebra operations.
It is an evolution of the std::valarray and std::vector templates into a multidimensional context - incorporating many concepts introduced via std::mdspan.
Furthermore, it introduces an interface that allows the user to perform operations on a multidimensional container and guarantees a large margin of customization.</p>
   <h2 class="heading settled" data-level="2" id="motiv"><span class="secno">2. </span><span class="content">Motivation and Scope</span><a class="self-link" href="#motiv"></a></h2>
   <p>The motivation of this proposal is to provide a foundational container from which the standard can expand linear algebraic operations.</p>
   <p>More specifically, this proposal seeks to establish:</p>
   <ul>
    <li data-md>
     <p>A multidimensional container which:</p>
     <ul>
      <li data-md>
       <p>Provides valarray-like interfaces and efficiency.</p>
      <li data-md>
       <p>Provides vector-like functionality in multiple dimensions.</p>
      <li data-md>
       <p>Makes use of layout and accessor policy concepts established via mdspan.</p>
     </ul>
    <li data-md>
     <p>A unifying relationship between vectors (rank 1 tensors), matrices (rank 2 tensors), and more generic N-dimensional tensors.</p>
    <li data-md>
     <p>A framework for defining efficient implementations of linear algebraic functions using concepts and template expression types.</p>
   </ul>
   <p>This proposal differs from a couple similar existing works:</p>
   <ul>
    <li data-md>
     <p><a href="https://isocpp.org/files/papers/D1684R0.html">D1684</a> mdarray: The authors do not believe this work is incompatable with this proposal.
However, the authors of this work take a different approach of essentially defining an adaptor which reinterpret’s an owned container with single dimensional access into a multidimensional framework.
While such an adaptor may be useful, it both significant obscurs behavior and constrains the implementation to the frameworks of existing containers.</p>
    <li data-md>
     <p><a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1385r7.pdf">P1385</a> also seeks to establish linear algebra support in the standard and would be in conflict with this proposal.
The authors have the following concerns in regards to the current iteration of <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1385r7.pdf">P1385</a>:</p>
     <ul>
      <li data-md>
       <p>The proposal too narrowly focuses on rank 2 tensors (matrices). The authors believe an expandable framework establishing the relationship between a vector, matrix, and generic tensor is needed. Failing to address this risks making further proposals more complex and difficult.</p>
      <li data-md>
       <p>The proposal does not address unifying the relationship between its proposed engine types and mdspan. While these two are not incongruent, failure to consider how the two interact could overcomplicate the standard. Rather than attemping to enforce layout and accessor policies into a new engine paradigm, the authors (of this proposal) adopt and expand on the mdspan paradigms wholesale.</p>
      <li data-md>
       <p>The proposal introduces additional template parameters for overloading function behavior. The authors find this overcomplicated, potentially confusing, difficult to specialize, and unnecessary. If specialized behavior is desired, additional namespaces and traditional functional overloading could be used to achieve the same affect.</p>
     </ul>
   </ul>
   <p>The scope of this proposal is contained to the definition of this new container, relatively simple linear algebra functions, and related concepts.</p>
   <h2 class="heading settled" data-level="3" id="descript"><span class="secno">3. </span><span class="content">Description</span><a class="self-link" href="#descript"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="tensor-expressions"><span class="secno">3.1. </span><span class="content">Tensor Expressions</span><a class="self-link" href="#tensor-expressions"></a></h3>
   <p>The tensor expression defines the minimum requirement for a <em>tensor object</em>. A tensor object may be a concrete tensor object, a view conformant to the tensor object interface, or an unevaluated expression which the evaluation of results in a concrete tensor object. In this context, a concrete tensor object is an object which owns the underlying memory and is conformant to the <em>writable tensor</em> concept.</p>
   <p>The tensor expression defines sufficient requirements to be generically useful; however, allows for custom optimizations. In short, the tensor expression must specify the size (in the generic sense of the word) and provide the ability access the representative value given a valid set of indices.</p>
   <h4 class="heading settled" data-level="3.1.1" id="tensor-expression"><span class="secno">3.1.1. </span><span class="content">Tensor Expression</span><a class="self-link" href="#tensor-expression"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>tensor_expression</c-></c-> <c- o><c- o>=</c-></c-> <c- k><c- n>requires</c-></c->
<c- p><c- p>{</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>value_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>extents_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>extent</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>}</c-></c->          <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->     <c- k><c- n>noexcept</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>extents</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->            <c- o><c- o>-></c-></c-> <c- n><c- n>convertible_to</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>extents_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- n><c- n>integral_constant</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>auto</c-></c-> <c- p><c- p>...</c-></c-> <c- n><c- n>indices</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- k><c- n>operator</c-></c-><c- p><c- p>[](</c-></c-> <c- n><c- n>indices</c-></c-> <c- p><c- p>...</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>}</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>convertible_to</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>value_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <p>The authors additionally propose two <em>unevaluated tensor expression</em> concepts: the <code class="highlight"><c- n>unary_tensor_expression</c-></code> and <code class="highlight"><c- n>binary_tensor_expression</c-></code>.</p>
   <h4 class="heading settled" data-level="3.1.2" id="unary-tensor-expression"><span class="secno">3.1.2. </span><span class="content">Unary Tensor Expression</span><a class="self-link" href="#unary-tensor-expression"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>unary_tensor_expression</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>tensor_expression</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>underlying</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>};</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- k><c- n>operator</c-></c-> <c- k><c- k>auto</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>};</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- p><c- p>(</c-></c-> <c- n><c- n>static_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>declval</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>().</c-></c-><c- k><c- n>operator</c-></c-> <c- k><c- k>auto</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>||</c-></c->
  <c- n><c- n>dynamic_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>declval</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>().</c-></c-><c- k><c- n>operator</c-></c-> <c- k><c- k>auto</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-> <c- p><c- p>);</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h4 class="heading settled" data-level="3.1.3" id="binary-tensor-expression"><span class="secno">3.1.3. </span><span class="content">Binary Tensor Expression</span><a class="self-link" href="#binary-tensor-expression"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>binary_tensor_expression</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>tensor_expression</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>first</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>};</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>second</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>};</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- k><c- n>operator</c-></c-> <c- k><c- k>auto</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>};</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- p><c- p>(</c-></c-> <c- n><c- n>static_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>declval</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>().</c-></c-><c- k><c- n>operator</c-></c-> <c- k><c- k>auto</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>||</c-></c->
  <c- n><c- n>dynamic_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>declval</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>().</c-></c-><c- k><c- n>operator</c-></c-> <c- k><c- k>auto</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-> <c- p><c- p>);</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h4 class="heading settled" data-level="3.1.4" id="tensor-expression-traits"><span class="secno">3.1.4. </span><span class="content">Tensor Expression Traits</span><a class="self-link" href="#tensor-expression-traits"></a></h4>
   <p>The authors also propose several traits related to the <em>unevaluated tensor expressions</em>. The intent is to provide additional information on custom <code class="highlight"><c- n>unary_tensor_expression</c-></code>s and <code class="highlight"><c- n>binary_tensor_expression</c-></code>s which may be taken advantage of without further inspection of the types. In this section, consider <code class="highlight"><c- n>t1</c-></code>, <code class="highlight"><c- n>t2</c-></code>, and <code class="highlight"><c- n>t3</c-></code> to be objects which satisfy the <code class="highlight"><c- n>tensor_expression</c-></code> concept.</p>
   <p><strong class="advisement"> If the below traits evaluate <code class="highlight">true</code>, should the compiler be free to take advantage of them liberally or should the traits be purely informative?</strong></p>
   <h5 class="heading settled" data-level="3.1.4.1" id="commutative"><span class="secno">3.1.4.1. </span><span class="content">Commutative</span><a class="self-link" href="#commutative"></a></h5>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- k>struct</c-></c-> <c- nc><c- nc>is_commutative</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>:</c-></c-> <c- k><c- n>public</c-></c-> <c- n><c- n>false_type</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- kr><c- kr>inline</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_commutative_v</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>is_commutative</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <p>The <code class="highlight"><c- n>is_commutative</c-></code> class may be specialized for any binary tensor expression. If <code class="highlight"><c- n>is_commutative_v</c-><c- o>&lt;</c-> <c- n>TE</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then the following expressions are to be considered equivalent:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t2</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t1</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <h5 class="heading settled" data-level="3.1.4.2" id="associative"><span class="secno">3.1.4.2. </span><span class="content">Associative</span><a class="self-link" href="#associative"></a></h5>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- k>struct</c-></c-> <c- nc><c- nc>is_associative</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>:</c-></c-> <c- k><c- n>public</c-></c-> <c- n><c- n>false_type</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- kr><c- kr>inline</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_associative_v</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>is_associative</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <p>The <code class="highlight"><c- n>is_associative</c-></code> class may be specialized for any pair of binary tensor expressions. If <code class="highlight"><c- n>is_associative_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then the following expressions are to be considered equivalent:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t2</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t3</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>t3</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <h5 class="heading settled" data-level="3.1.4.3" id="distributive"><span class="secno">3.1.4.3. </span><span class="content">Distributive</span><a class="self-link" href="#distributive"></a></h5>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- k>struct</c-></c-> <c- nc><c- nc>is_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>:</c-></c-> <c- k><c- n>public</c-></c-> <c- n><c- n>false_type</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- kr><c- kr>inline</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_distributive_v</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>is_commutative</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>is_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->

<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- k>struct</c-></c-> <c- nc><c- nc>is_left_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>:</c-></c-> <c- k><c- n>public</c-></c-> <c- n><c- n>false_type</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- kr><c- kr>inline</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_left_distributive_v</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>is_distributive_v</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>||</c-></c-> <c- n><c- n>is_left_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->

<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- k>struct</c-></c-> <c- nc><c- nc>is_right_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>:</c-></c-> <c- k><c- n>public</c-></c-> <c- n><c- n>false_type</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- kr><c- kr>inline</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_right_distributive_v</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>is_distributive_v</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>||</c-></c-> <c- n><c- n>is_right_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <p>The <code class="highlight"><c- n>is_distributive</c-></code> class may be specialized for any pair of binary tensor expressions. Note, for <code class="highlight"><c- n>is_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> to be <code class="highlight">true</code>, then <code class="highlight"><c- n>is_commutative_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> must also be <code class="highlight">true</code>.</p>
   <p>The <code class="highlight"><c- n>is_left_distributive</c-></code> class may be specialized for any pair of binary tensor expressions. Note, if <code class="highlight"><c- n>is_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then <code class="highlight"><c- n>is_left_distributive</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> need not be specialized. If <code class="highlight"><c- n>is_left_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then for the pair of binary tensor expression the following expressions are considered equivalent:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t2</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t3</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <p>The <code class="highlight"><c- n>is_right_distributive</c-></code> class may be specialized for any pair of binary tensor expressions. Note, if <code class="highlight"><c- n>is_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then <code class="highlight"><c- n>is_right_distributive</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> need not be specialized. If <code class="highlight"><c- n>is_right_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then for the pair of binary tensor expression the following expressions are considered equivalent:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>t3</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <p>If <code class="highlight"><c- n>is_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then for the pair of binary tensor expression the compiler is free to treat both sets of expressions as equivalent. This illustrates why <code class="highlight"><c- n>is_commutative</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> must be <code class="highlight">true</code>.</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t2</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t3</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>t3</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <p>For the unary and binary tensor expression combination, there is no need to specify left- and right-ness.</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>unary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- k>struct</c-></c-> <c- nc><c- nc>is_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>:</c-></c-> <c- k><c- n>public</c-></c-> <c- n><c- n>false_type</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>unary_tensor_expression</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>binary_tensor_expression</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- kr><c- kr>inline</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_distributive_v</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>is_distributive</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>TE2</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <p>If <code class="highlight"><c- n>is_distributive_v</c-><c- o>&lt;</c-> <c- n>TE1</c-><c- p>,</c-> <c- n>TE2</c-> <c- o>></c-></code> is <code class="highlight">true</code>, then the following expressions are considered equivalent:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>t</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>TE2</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t1</c-></c-> <c- p><c- p>),</c-></c-> <c- n><c- n>TE1</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>t2</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <h3 class="heading settled" data-level="3.2" id="additional-concepts"><span class="secno">3.2. </span><span class="content">Additional Concepts</span><a class="self-link" href="#additional-concepts"></a></h3>
   <h4 class="heading settled" data-level="3.2.1" id="matrix-expression"><span class="secno">3.2.1. </span><span class="content">Matrix Expression</span><a class="self-link" href="#matrix-expression"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>matrix_expression</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>tensor_expression</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>==</c-></c-> <c- mi><c- mi>2</c-></c-> <c- p><c- p>);</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h4 class="heading settled" data-level="3.2.2" id="vector-expression"><span class="secno">3.2.2. </span><span class="content">Vector Expression</span><a class="self-link" href="#vector-expression"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>vector_expression</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>tensor_expression</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>==</c-></c-> <c- mi><c- mi>1</c-></c-> <c- p><c- p>);</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h4 class="heading settled" data-level="3.2.3" id="readable-tensor"><span class="secno">3.2.3. </span><span class="content">Readable Tensor</span><a class="self-link" href="#readable-tensor"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>readable_tensor</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>tensor_expression</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c->
<c- p><c- p>{</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>layout_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>accessor_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>reference</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>data_handle_type</c-></c-><c- p><c- p>;</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>mapping_type</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_dynamic</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->         <c- k><c- n>noexcept</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>static_extent</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>}</c-></c->     <c- k><c- n>noexcept</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>size</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                           <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_strided</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->    <c- k><c- n>noexcept</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>bool</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_exhaustive</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c-> <c- k><c- n>noexcept</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>bool</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_unique</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->     <c- k><c- n>noexcept</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>bool</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>is_strided</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                     <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>bool</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>is_exhaustive</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                  <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>bool</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>is_unique</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                      <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>bool</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>stride</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>}</c-></c->                      <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>accessor</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                       <c- o><c- o>-></c-></c-> <c- n><c- n>convertible_to</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>accessor_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>data_handle</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                    <c- o><c- o>-></c-></c-> <c- n><c- n>convertible_to</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>data_handle_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>mapping</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c->                        <c- o><c- o>-></c-></c-> <c- n><c- n>convertible_to</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>mapping_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
  <c- n><c- n>integral_constant</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_dynamic</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
  <c- n><c- n>integral_constant</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>static_extent</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
  <c- n><c- n>bool_constant</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_strided</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
  <c- n><c- n>bool_constant</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_exhaustive</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
  <c- n><c- n>bool_constant</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_unique</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>value</c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>};</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h4 class="heading settled" data-level="3.2.4" id="writable-tensor"><span class="secno">3.2.4. </span><span class="content">Writable Tensor</span><a class="self-link" href="#writable-tensor"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>writable_tensor</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>readable_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>auto</c-></c-> <c- p><c- p>...</c-></c-> <c- n><c- n>indices</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- k><c- n>operator</c-></c-><c- p><c- p>[](</c-></c-> <c- n><c- n>indices</c-></c-> <c- p><c- p>...</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>}</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- p><c- p>;</c-></c-><typename tU0003AU0003Areference_type>
<c- p><c- p>};</c-></c->
<c- p><c- p>}</c-></c->
</typename></code></pre>
   <h4 class="heading settled" data-level="3.2.5" id="static-tensor"><span class="secno">3.2.5. </span><span class="content">Static Tensor</span><a class="self-link" href="#static-tensor"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>static_tensor</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>writable_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- p><c- p>(</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_dynamic</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>==</c-></c-> <c- mi><c- mi>0</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- n><c- n>default_initializable</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h4 class="heading settled" data-level="3.2.6" id="dynamic-tensor"><span class="secno">3.2.6. </span><span class="content">Dynamic Tensor</span><a class="self-link" href="#dynamic-tensor"></a></h4>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>concept</c-></c-> <c- nc><c- n>dynamic_tensor</c-></c-> <c- o><c- o>=</c-></c->
<c- n><c- n>writable_tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c->
<c- p><c- p>{</c-></c->
  <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>allocator_type</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- k><c- n>requires</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>tc</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>s</c-></c-> <c- p><c- p>)</c-></c->
<c- p><c- p>{</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>tc</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>max_size</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-> <c- o><c- o>></c-></c-> <c- p><c- p>};</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>tc</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>capacity</c-></c-><c- p><c- p>()</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-> <c- o><c- o>></c-></c-> <c- p><c- p>};</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>resize</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>s</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>};</c-></c->
  <c- c1><c- c1>// TBD on capacity_extents()</c-></c->
  <c- c1><c- c1>// TBD on reserve( ... )</c-></c->
  <c- p><c- p>{</c-></c-> <c- n><c- n>tc</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>get_allocator</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>}</c-></c-> <c- o><c- o>-></c-></c-> <c- n><c- n>same_as</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>allocator_type</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- n><c- n>constructible_from</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>&amp;&amp;</c-></c->
<c- n><c- n>constructible_from</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>T</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
</code></pre>
   <h3 class="heading settled" data-level="3.3" id="tensor"><span class="secno">3.3. </span><span class="content">Tensor</span><a class="self-link" href="#tensor"></a></h3>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Extents</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Allocator</c-></c->      <c- o><c- o>=</c-></c-> <c- n><c- n>allocator</c-></c-><c- p><c- p>,</c-></c-><t>
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>class</c-></c-> <c- nc><c- n>tensor</c-></c->
<c- p><c- p>{</c-></c->
  <c- k><c- n>public</c-></c-><c- o><c- o>:</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>value_type</c-></c->       <c- o><c- o>=</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>accessor_type</c-></c->    <c- o><c- o>=</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>reference</c-></c->        <c- o><c- o>=</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>accessor_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>reference</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>const_reference</c-></c->  <c- o><c- o>=</c-></c-> <c- n><c- n>add_const_t</c-></c-><c- p><c- p>;</c-></c-><typename accessor_typeU0003AU0003Areference>
    <c- k><c- n>using</c-></c-> <c- n><c- n>data_handle_type</c-></c-> <c- o><c- o>=</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>accessor_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>data_handle_type</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>extents_type</c-></c->     <c- o><c- o>=</c-></c-> <c- n><c- n>Extents</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>index_type</c-></c->       <c- o><c- o>=</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>extents_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>size_type</c-></c->        <c- o><c- o>=</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>extents_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>size_type</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>rank_type</c-></c->        <c- o><c- o>=</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>extents_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>rank_type</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>layout_type</c-></c->      <c- o><c- o>=</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>using</c-></c-> <c- n><c- n>mapping_type</c-></c->     <c- o><c- o>=</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>layout_type</c-></c-><c- o><c- o>::</c-></c-><c- k><c- n>template</c-></c-> <c- n><c- n>mapping</c-></c-><c- p><c- p>;</c-></c-><extents>
    <c- k><c- n>using</c-></c-> <c- n><c- n>allocator_type</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>Allocator</c-></c-><c- p><c- p>;</c-></c->
    
    <c- c1><c- c1>// Constructors</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>();</c-></c->
    <c- k><c- n>explicit</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>explicit</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>s</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>explicit</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>mapping_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>m</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->

    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>initializer_list</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>value_type</c-></c-> <c- o><c- o>></c-></c-> <c- n><c- n>il</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>s</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>initializer_list</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>value_type</c-></c-> <c- o><c- o>></c-></c-> <c- n><c- n>il</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>mapping_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>m</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>InputIt</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>InputIt</c-></c-> <c- n><c- n>first</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>InputIt</c-></c-> <c- n><c- n>last</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>s</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>InputIt</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>InputIt</c-></c-> <c- n><c- n>first</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>InputIt</c-></c-> <c- n><c- n>last</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>mapping_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>m</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>R</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- p><c- p>[[</c-></c-><c- n><c- n>maybe_unused</c-></c-><c- p><c- p>]]</c-></c-> <c- n><c- n>from_range_t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>R</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rg</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>s</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>R</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- p><c- p>[[</c-></c-><c- n><c- n>maybe_unused</c-></c-><c- p><c- p>]]</c-></c-> <c- n><c- n>from_range_t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>R</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rg</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>mapping_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>m</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->

    <c- c1><c- c1>// NOTE: These constructors require one of:</c-></c->
    <c- c1><c- c1>//    A: ( extents_type::rank_dynamic() == 0 ) &amp;&amp; ( mapping_type().required_span_size() == size of initializer_list, iterator pair, or range )</c-></c->
    <c- c1><c- c1>//    B: ( extents_type::rank_dynamic() == 1 ) &amp;&amp; ( mapping_type( extents_type(N) ).required_span_size() == size of initializer_list, iterator pair, or range ) (for some integer value N)</c-></c->
    <c- k><c- n>explicit</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>initializer_list</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>value_type</c-></c-> <c- o><c- o>></c-></c-> <c- n><c- n>il</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>InputIt</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>InputIt</c-></c-> <c- n><c- n>first</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>InputIt</c-></c-> <c- n><c- n>last</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>R</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- p><c- p>[[</c-></c-><c- n><c- n>maybe_unused</c-></c-><c- p><c- p>]]</c-></c-> <c- n><c- n>from_range_t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>R</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rg</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->
    
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>explicit</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- p><c- p>()</c-></c-> <c- p><c- p>);</c-></c->

    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>rhs</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>rhs</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rhs</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>tensor</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rhs</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>allocator_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>alloc</c-></c-> <c- p><c- p>);</c-></c->

    <c- c1><c- c1>// Destructor</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- o><c- o>~</c-></c-><c- n><c- n>tensor</c-></c-><c- p><c- p>();</c-></c->

    <c- c1><c- c1>// Assignment</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rhs</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>allocator_traits</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>allocator_type</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>propagate_on_container_move_assignment</c-></c-> <c- o><c- o>||</c-></c->
                                                            <c- n><c- n>allocator_traits</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>allocator_type</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>is_always_equal</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>rhs</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>rhs</c-></c-> <c- p><c- p>);</c-></c->
    <c- c1><c- c1>// NOTE: This assignment operator requires the same requirements as the constructors</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>initializer_list</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>value_type</c-></c-> <c- o><c- o>></c-></c-> <c- n><c- n>il</c-></c-> <c- p><c- p>);</c-></c->

    <c- c1><c- c1>// Members</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- nf>swap</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>rhs</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>allocator_traits</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>allocator_type</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>propagate_on_container_swap</c-></c-> <c- o><c- o>||</c-></c->
                                            <c- n><c- n>allocator_traits</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>allocator_type</c-></c-> <c- o><c- o>>::</c-></c-><c- n><c- n>is_always_equal</c-></c-> <c- p><c- p>);</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>empty</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>extents</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>size_type</c-></c-> <c- n><c- n>extent</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>rank_type</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- k>static</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>size_type</c-></c-> <c- n><c- n>static_extent</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>rank_type</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>size_type</c-></c-> <c- n><c- n>size</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>size_type</c-></c-> <c- n><c- n>max_size</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>size_type</c-></c-> <c- n><c- n>capacity</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- b><c- b>void</c-></c-> <c- nf><c- n>resize</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>new_size</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- b><c- b>void</c-></c-> <c- nf><c- n>resize</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>new_size</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- b><c- b>void</c-></c-> <c- nf><c- n>reserve</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>new_cap</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- b><c- b>void</c-></c-> <c- nf><c- n>shrink_to_fit</c-></c-><c- p><c- p>();</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_unique</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_exhaustive</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_strided</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- k>static</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_always_unique</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- k>static</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_always_exhaustive</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- k>static</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- b><c- b>bool</c-></c-> <c- n><c- n>is_always_strided</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- k>static</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>rank_type</c-></c-> <c- n><c- n>rank</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- k>static</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>rank_type</c-></c-> <c- n><c- n>rank_dynamic</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>size_type</c-></c-> <c- n><c- n>stride</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>rank_type</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>mapping_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>mapping</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>data_handle_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>data_handle</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>data_handle_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>data_handle</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>allocator_type</c-></c-> <c- n><c- n>get_allocator</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>accessor_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>accessor</c-></c-><c- p><c- p>()</c-></c-> <c- k><c- k>const</c-></c-> <c- k><c- n>noexcept</c-></c-><c- p><c- p>;</c-></c->

    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- p><c- p>...</c-></c-> <c- n><c- n>OtherIndexType</c-></c-> <c- o><c- o>></c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>const_reference</c-></c-> <c- k><c- n>operator</c-></c-><c- p><c- p>[](</c-></c-> <c- n><c- n>OtherIndexType</c-></c-> <c- p><c- p>...</c-></c-> <c- n><c- n>indices</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- k>const</c-></c-><c- p><c- p>;</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- p><c- p>...</c-></c-> <c- n><c- n>OtherIndexType</c-></c-> <c- o><c- o>></c-></c->
    <c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- n><c- n>reference</c-></c-> <c- k><c- n>operator</c-></c-><c- p><c- p>[](</c-></c-> <c- n><c- n>OtherIndexType</c-></c-> <c- p><c- p>...</c-></c-> <c- n><c- n>indices</c-></c-> <c- p><c- p>);</c-></c->

    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>+=</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>-=</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>*=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>/=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>%=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>&amp;=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>|=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>^=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>>>=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
    <c- k><c- n>constexpr</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&amp;</c-></c-> <c- k><c- n>operator</c-></c-><c- o><c- o>&lt;&lt;=</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>value_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>value</c-></c-> <c- p><c- p>);</c-></c->
<c- p><c- p>};</c-></c->

<c- c1><c- c1>// IN WORK: Non-member functions</c-></c->
<c- c1><c- c1>// Addition</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>FirstTensor</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>SecondTensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>+</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>FirstTensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>tensor_a</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>SecondTensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>tensor_b</c-></c-> <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Substraction</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>FirstTensor</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>SecondTensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>-</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>FirstTensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>tensor_a</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>SecondTensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>tensor_b</c-></c-> <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Negation</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>-</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Scalar Multiplication</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>ValueType</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>*</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>ValueType</c-></c-> <c- n><c- n>v</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>ValueType</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>*</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>ValueType</c-></c-> <c- n><c- n>v</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Scalar Division</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>ValueType</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>/</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>ValueType</c-></c-> <c- n><c- n>v</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Matrix Multiplication</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>matrix_expression</c-></c-> <c- n><c- n>FirstMatrix</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>matrix_expression</c-></c-> <c- n><c- n>SecondMatrix</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>*</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>FirstMatrix</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>matrix_a</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>SecondMatrix</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>matrix_b</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Vector-Matrix Multiplication</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>Vector</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>matrix_expression</c-></c-> <c- n><c- n>Matrix</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>*</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Vector</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>v</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Matrix</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>m</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>matrix_expression</c-></c-> <c- n><c- n>Matrix</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>Vector</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>*</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Matrix</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>m</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Vector</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>v</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Vector Inner Product</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>FirstVector</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>SecondVector</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>inner_prod</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>FirstVector</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>vector_a</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>SecondVector</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>vector_b</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Vector Outer Product</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>FirstVector</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>SecondVector</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>outer_prod</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>FirstVector</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>vector_a</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>SecondVector</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>vector_b</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Transpose</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>trans</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>Tensor</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-> <c- n><c- n>dim1</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>Tensor</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-> <c- n><c- n>dim2</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>matrix_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>trans</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>trans</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Conjugate</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>conj</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>Tensor</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-> <c- n><c- n>dim1</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>typename</c-></c-> <c- nc><c- n>Tensor</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>index_type</c-></c-> <c- n><c- n>dim2</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>matrix_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>conj</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>vector_expression</c-></c-> <c- n><c- n>Tensor</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- n><c- n>conj</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-> <c- p><c- p>);</c-></c->
<c- c1><c- c1>// Scalar Modulo</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>tensor_expression</c-></c-> <c- n><c- n>Tensor</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>ValueType</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>constexpr</c-></c-> <c- d><c- d>/* implementation defined */</c-></c-> <c- k><c- n>operator</c-></c-> <c- o><c- o>%</c-></c-> <c- p><c- p>(</c-></c-> <c- n><c- n>Tensor</c-></c-><c- o><c- o>&amp;&amp;</c-></c-> <c- n><c- n>t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>ValueType</c-></c-> <c- n><c- n>v</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>requires</c-></c-> <c- p><c- p>(</c-></c->  <c- p><c- p>);</c-></c->
<c- p><c- p>}</c-></c->
</extents></typename></t></t></code></pre>
   <p>Mandates:</p>
   <ul>
    <li data-md>
     <p>T is a complete object type that is neither an abstract class type nor an array type.</p>
    <li data-md>
     <p>is_same_v&lt; Allocator::value_type, T > is true.</p>
    <li data-md>
     <p>is_same_v&lt; AccessorPolicy::element_type, T > is true.</p>
    <li data-md>
     <p>Extents is a specialization of extents.</p>
    <li data-md>
     <p>Allocator shall meet the allocator requirements.</p>
    <li data-md>
     <p>LayoutPolicy shall meet the layout mapping policy requirements.</p>
    <li data-md>
     <p>AccessorPolicy shall meet the accessor policy requirements.</p>
   </ul>
   <h3 class="heading settled" data-level="3.4" id="helpers"><span class="secno">3.4. </span><span class="content">Helpers</span><a class="self-link" href="#helpers"></a></h3>
   <p>IN WORK: How to define resultant layout, accessor, and allocator types?</p>
   <h2 class="heading settled" data-level="4" id="questions"><span class="secno">4. </span><span class="content">Design Questions</span><a class="self-link" href="#questions"></a></h2>
   <p>These are issues for which different approaches may be taken. Many have pros and cons. The authors seek guidance on the best direction to take.</p>
   <h3 class="heading settled" data-level="4.1" id="fixed-size-tensor"><span class="secno">4.1. </span><span class="content">Fixed Size Tensor</span><a class="self-link" href="#fixed-size-tensor"></a></h3>
    On its face, the tensor container does not address optimization for fixed size tensor objects. For these objects - particularly of small size - optimizations provide significant performance improvements.
There are a couple paths which could be taken: 
   <ol>
    <li data-md>
     <p>Functionality could be split into two separate classes fs_tensor and dr_tensor - adopting similar language from <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1385r7.pdf">P1385</a>.</p>
     <ul>
      <li data-md>
       <p>fs_tensor would remove the allocator dependency - instead operating on a an array of objects - and remove a couple functions which serve no purpose for statically defined extents ( capacity, resize, reserve, shrink_to_fit, ... ).</p>
      <li data-md>
       <p>dr_tensor would adopt the existing tensor interface wholesale.</p>
      <li data-md>
       <p>This option would be particularly beneficial if further vector-like functions are adopted: Allowing fs_tensor to be the multidimensional corolary to std::array and dr_tensor the multidimensional corolary to std::vector.</p>
      <li data-md>
       <p>The issue of optimizing memory access is also not new. This approach would follow existing paradigms already in the standard library addressing this issue.</p>
     </ul>
    <li data-md>
     <p>The pointer to buffer and allocator behavior could be encapsulated into a single interface - replacing the allocator template parameter on the tensor class.</p>
     <ul>
      <li data-md>
       <p>This would be similar to the unbounded and bounded arrays used in Boost. This would also be somewhat similar to the engine class described in <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1385r7.pdf">P1385</a>; although, limited to memory ownership behavior.</p>
      <li data-md>
       <p>This would allow for dynamic size fixed capacity tensor operations on a local buffer (where as in the first option dynamic size fixed capacity operations could only be done on a remote buffer through an allocator).</p>
     </ul>
    <li data-md>
     <p>Don’t address the issue for now and encourage the use of fixed buffers. This could be problematic for a couple reasons; however, allows focus on a single container class:</p>
     <ul>
      <li data-md>
       <p>The abstraction provided by the allocator becomes less useful as the buffer size becomes too small for use by other objects.</p>
      <li data-md>
       <p>This also fails to achieve full memory optimization - still requiring a pointer to a local buffer. This can be undesirable for small tensors in high performance computing.</p>
      <li data-md>
       <p>Some high performance applications require predictable performance - requiring stack only memory. In these instances, the familiar three step process of creating the buffer, allocator, and container becomes tedious and error prone. This leads to attempts to encapsulate the behavior (like Boost’s static_vector).</p>
      <li data-md>
       <p>The memory access through pointer limits compiler optimizations and limits what can be performed at compile time.</p>
      <li data-md>
       <p>Many existing applications already make use of fixed size optimization to improvement performance and ease of use.</p>
      <li data-md>
       <p>Many existing C++ libraries such as Boost and Eigen already provide such fixed size optimization. Not providing it would discourage standard adoption.</p>
      <li data-md>
       <p>Given a fairly ubiquitous need, it is expected to be addressed at some point. Failure to address the need now could complicate further proposals.</p>
     </ul>
   </ol>
   <h3 class="heading settled" data-level="4.2" id="capacity-and-reserve"><span class="secno">4.2. </span><span class="content">Capacity and Reserve</span><a class="self-link" href="#capacity-and-reserve"></a></h3>
    The expected behavior of reserve also needs further guidance. There are several options to take: 
   <ol>
    <li data-md>
     <p>The reserve( size_type cap ) member function is a directive that informs a tensor object of a planned change in size so that it can manage the storage allocation accordingly.</p>
     <ul>
      <li data-md>
       <p>After the call, the capacity is greater than or equal to cap if reallocation happens, and equal to the previous capacity otherwise.</p>
      <li data-md>
       <p>Failure to reserve capacity shall result in no other side effects. (The tensor remains in a valid and usable state.)</p>
      <li data-md>
       <p>Pointers and references into the tensor may not be valid after calling reserve.</p>
      <li data-md>
       <p>After successfully calling reserve, any resize( const extents_type&amp; s ) for which the resultant mapping_type(s).required_span_size() &lt;= cap shall incur no re-allocation.</p>
     </ul>
     <p>Advantages:</p>
     <ul>
      <li data-md>
       <p>This conforms to the existing interface for reserving existing containers.</p>
      <li data-md>
       <p>Introduces little memory overhead comparable to existing containers.</p>
     </ul>
     <p>Disadvantages:</p>
     <ul>
      <li data-md>
       <p>Not all layout policies are exhaustive or unique. This means the required_span_size() may be considerably less than the product of the desired extents. This requires the client to perform additional and perhaps error-prone logic to determine the desired capacity - potentially resulting in inefficiencies.</p>
      <li data-md>
       <p>Resizing the multi-dimensional container may be prohibitively expensive without allowing reallocation. Consider resizing a dense layout_left {M,N} tensor with MxN capacity into an {1,MxN} tensor. N-1 elements must now be moved - along with (M-1)xN element constructions and destructions. More complex layout schemes will result in more complex and expensive sort-like approaches to perform resize; however, without a more expressive interface there is no other way to provide guarantees when re-allocation will not occur.</p>
      <li data-md>
       <p>While implementers could choose to implement capacity as an extents_type (discussed in the next alternative), there is insufficient directive in how resize will be performed to make meaningful use of it. (As just discussed, {M,N} and {MxN,1} are very different tensors.)</p>
     </ul>
    <li data-md>
     <p>The reserve( const extents_type&amp; e ) member function is a directive that informs a tensor object of a planned change in size, so that it can manage the storage allocation accordingly.
After the call, the capacity is greater than or equal to the mapping_type(e).requested_span_size() if reallocation happens, and equal to the previous capacity otherwise. Reallocation happens at this point if and only if the current capacity is less than the mapping_type(e).requested_span_size().
If an exception is thrown other than by the move constructor of a Cpp17NonCopyInsertable type, there are no effects.
It throws length_error if max_size() &lt; mapping_type(e).required_span_size().
After successfully calling reserve, any resize( const extents_type&amp; s ) for which the resultant s.extent(r) &lt;= e.extent(r) for all r in the range[0,rank()) shall incur no re-allocation.</p>
     <p>Advantages:</p>
     <ul>
      <li data-md>
       <p>This allows for implementations to provide similar guarantees to std::vector in so far as the efficiency of resizing.
It encourages implementations of ordered strided layouts which still allow efficient memory access, but introduce appropriate gaps such that appropriately bounded resize operations only result in redefining the extents, construction of new elements, and destruction of no-longer-contained elements. No element moves would be required.</p>
      <li data-md>
       <p>The client no longer has to interpret what required span size is needed for the desired extents.</p>
      <li data-md>
       <p>It provides additional benefits in resize behavior which the mdarray adaptor interface cannot provide.</p>
     </ul>
     <p>Disadvantages:</p>
     <ul>
      <li data-md>
       <p>Adds the most additional memory footprint.</p>
     </ul>
    <li data-md>
     <p>This option is the same as 2.; however, it introduces a separate template parameter for the capacity:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Extents</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>CapExtents</c-></c->     <c- o><c- o>=</c-></c-> <c- n><c- n>Extents</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Allocator</c-></c->      <c- o><c- o>=</c-></c-> <c- n><c- n>allocator</c-></c-><c- p><c- p>,</c-></c-><t>
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>class</c-></c-> <c- nc><c- n>tensor</c-></c-><c- p><c- p>;</c-></c->
</t></t></code></pre>
     <ul>
      <li data-md>
       <p>This requires the additional mandate that for all r in the range [0,rank()), ( CapExtents::static_extent(r) == Extents::static_extent(r) || ( CapExtents::static_extent(r) != std::dynamic_extent &amp;&amp; Extents::static_extent(r) == dynamic_extent ).</p>
      <li data-md>
       <p>This allows for some parallels to the Boost static_vector and subsequent proposal P0843 fixed_capacity_vector / static_vector; however, unlike those proposals - it does not guarantee local memory access. (An allocator is still used even if none of the capacity extents are dynamic.)</p>
     </ul>
     <p>Advantages:</p>
     <ul>
      <li data-md>
       <p>Same advantages as 2.</p>
      <li data-md>
       <p>Reduces memory footprint overhead - potentially to zero.</p>
     </ul>
     <p>Disadvantages:</p>
     <ul>
      <li data-md>
       <p>Introduces another template parameter; however, this can be marginalized through appropriate aliasing.</p>
     </ul>
   </ol>
   <h3 class="heading settled" data-level="4.3" id="dynamic-only-extents"><span class="secno">4.3. </span><span class="content">Dynamic Only Extents</span><a class="self-link" href="#dynamic-only-extents"></a></h3>
    Should tensor require extents_type::dynamic_rank() != 0? 
   <p>If dynamic_rank() == 0, then the constructors, tensor() and tensor( const allocator_type&amp; alloc ), must perform allocation because size() is non-zero at initialization. This differs if at least one dimension of the extents is dynamic. In this case, no allocation need occur because size() is still zero.</p>
   <p>Alternatively, tensor could impose the requirement only on the impacted constructors.</p>
   <h3 class="heading settled" data-level="4.4" id="tensor-expressions-contain-by-value"><span class="secno">4.4. </span><span class="content">Tensor Expressions Contain by Value</span><a class="self-link" href="#tensor-expressions-contain-by-value"></a></h3>
    Is it useful to be able to constuct expressions which contain the operands by value? If so, what syntax is desired to indicate contain-by-value? 
   <h3 class="heading settled" data-level="4.5" id="implementation-freedoms-in-compound-expressions"><span class="secno">4.5. </span><span class="content">Implementation Freedoms in Compound Expressions</span><a class="self-link" href="#implementation-freedoms-in-compound-expressions"></a></h3>
   <p>Linear algebra conforms to a set of axiomatic identities. The authors believe implementations which conform to this proposal should be free to apply them liberally, but think it is important to bring the implications into consideration.</p>
   <p>Consider - given tensors a, b, c:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>d</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>c</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>d</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>d</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>c</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>d</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>a</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>d</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>d</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>a</c-></c-><c- p><c- p>;</c-></c->
</code></pre>
   <p>Because the addition operator under the set of tensors is both commutative and associative, each of the above expressions are equivalent. Baring numerical overflow and instability - evaluation of each of these expressions in the order specified should result in the same result.
This example is relatively trivial. Without an unduly expensive analysis of the tensors, there is no reason to believe any one order is better than the other and thus an implementation which evaluates the additions in the order specified is the most reasonable.</p>
   <p>Though the authors do not propose an inverse operation in this proposal, its use here illustrates the point better. The inverse operation is an operation on a square matrix which resuls in a matrix when either pre- or post-multiplied with the original matrix results in an identity matrix.</p>
   <p>Consider - given square matrices a, b:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>a</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>b</c-></c-><c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>-</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>a</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>-</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>b</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>b</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>c</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>b</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>inverse</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>a</c-></c-> <c- o><c- o>+</c-></c-> <c- n><c- n>b</c-></c-> <c- p><c- p>)</c-></c-> <c- o><c- o>*</c-></c-> <c- n><c- n>a</c-></c-><c- p><c- p>;</c-></c->
</code></pre>
   <p>These expressions are sometimes referred to as rank-k updates. By virtue of the Woodbury matrix identity and a little algebraic manipulation - each of these evaluate to the same result.
The concern of the authors is more clear - the first expression is both the most expensive and the only which requires both a and b to be invertible. Each of the remaining expressions only require the sum of the matrices to be invertible. This leads to the natural question: If the client code calls for the inverse of the matrix, must the matrix actually be invertible or is the implementation free to evaluate the compound expression in such a way that the inverse may never be computed?</p>
   <h3 class="heading settled" data-level="4.6" id="simplification-and-simultaneous-evaluation"><span class="secno">4.6. </span><span class="content">Simplification and Simultaneous Evaluation</span><a class="self-link" href="#simplification-and-simultaneous-evaluation"></a></h3>
   <p>In this section, the authors present limitations in the compiler’s ability to optimize code. At this time, no solutions are presented.</p>
   <p>For this illustration, the authors introduce a state, X, and its associated uncertainty, XX. X is a vector (rank 1 tensor), XX is a positive semi-definite symmetric matrix.</p>
   <p>Consider the linear transform, A*X, and the associated transformation of the uncertainty, A*XX*trans(A).</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>Y</c-></c->  <c- o><c- o>=</c-></c-> <c- n><c- n>A</c-></c-><c- o><c- o>*</c-></c-><c- n><c- n>X</c-></c-><c- p><c- p>;</c-></c->
<c- k><c- k>auto</c-></c-> <c- n><c- n>YY</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>A</c-></c-><c- o><c- o>*</c-></c-><c- n><c- n>XX</c-></c-><c- o><c- o>*</c-></c-><c- n><c- n>trans</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>A</c-></c-><c- p><c- p>);</c-></c->
</code></pre>
   <p>The first question is how can optimize the second function? Breaking down the second function into the intermediate expression templates used, it looks something like:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- n><c- n>YY</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>matrix_product_expression</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>A</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>matrix_product_expression</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>XX</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>matrix_transpose_expression</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>A</c-></c-><c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
</code></pre>
   <p>The types used and their order essentially constitute a pattern. The additional piece of information needed to cue the compiler that this is indeed a linear transform operation is the knowledge the first argument of the outermost product is the same as the argument in the transpose. How can we allow the compiler the introspection to confirm this and perform the appropriate optimization?</p>
   <p>The second is how can the compiler optimize computing both simultaneously? This example was chosen as it is not trivial to simply concatenate the two equations to allow for simultaneous evaluation as the first is an operation on a vector and the second an operation on a matrix. Nonetheless, it is desirable to limit the iterations over A.</p>
   <p>The following structured binding syntax might be preferential to cue the compiler to evaluate the two simultaneously:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- k>auto</c-></c-> <c- p><c- p>[</c-></c-> <c- n><c- n>Y</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>YY</c-></c-> <c- p><c- p>]</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>{</c-></c-> <c- n><c- n>A</c-></c-><c- o><c- o>*</c-></c-><c- n><c- n>X</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>A</c-></c-><c- o><c- o>*</c-></c-><c- n><c- n>XX</c-></c-><c- o><c- o>*</c-></c-><c- n><c- n>trans</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>A</c-></c-><c- p><c- p>)</c-></c-> <c- p><c- p>};</c-></c->
</code></pre>
   <p>However, this requires someway to overload the way assignment is performed on the structured binding to evaluate Y and YY simultaneously as well as verify the first parameter in the matrix-vector product is the same parameter used in the second expression.</p>
   <h3 class="heading settled" data-level="4.7" id="nodiscard-clarification"><span class="secno">4.7. </span><span class="content">[<span>[nodiscard]</span>] Clarification</span><a class="self-link" href="#nodiscard-clarification"></a></h3>
    The <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r18.html">P0009</a> proposal introduced many new concepts and functions to the standard. Many are re-used in this proposal. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r18.html">P0009</a> only introduced [<span>[nodiscard]</span>] to the empty() function consistent with the specification of a number of STL containers. 
   <p><a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0600r1.pdf">P0600</a> is the proposal which motivated the addition of <span>[nodiscard]</span> to empty() on those containers to disambiguate functionality from clear(). This proposal also provides guidance on when to use [<span>[nodiscard]</span>] on future additions to the proposal:</p>
   <blockquote>
    <p>It should be added where:</p>
    <ul>
     <li data-md>
      <p>For existing API’s:</p>
      <ul>
       <li data-md>
        <p>...</p>
      </ul>
     <li data-md>
      <p>For new API’s (not been in the C++ standard yet):</p>
      <ul>
       <li data-md>
        <p>not using the return value is usually an error.</p>
      </ul>
    </ul>
   </blockquote>
   <p>In the authors' opinions, <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r18.html">P0009</a> did not adhere to this guidance. The authors have marked which functions could be marked no [<span>[nodiscard]</span>] in accordance to the guidance provided by <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0600r1.pdf">P0600</a>; however, the authors seek clarity on the appropriate direction to take.</p>
   <h3 class="heading settled" data-level="4.8" id="safe-memory-access"><span class="secno">4.8. </span><span class="content">Safe Memory Access</span><a class="self-link" href="#safe-memory-access"></a></h3>
    Safe memory access is important to avoid undefined behaviors if the user tries to access an invalid location. This is further highlighted in the recent paper P2759. 
   <p>
    Tensor could provide an additional function similar to several existing containers which guards against out-of-bounds access.
This protection may be provided through the introduction of the member function, at( OtherIndexTypes... indices ).
The effects are the same as the operator[]( OtherIndexTypes... indices ) member function; however, an exception std::out_of_range is thrown if, for an index r in the range [0, rank()), !(get
    <r>(idx...) &lt; extent(r)).</r>
   </p>
   <p>In the authors' experience - much in high performance computing, at( OtherIndexTypes ... indices  ) receives very little use and other paradigms and tools are needed to ensure memory safe access.
The authors do not wish to engage in evolving a better approach to memory safe access. The authors merely seek guidance on whether at( OtherIndexTypes ... indices ) is a desired function.
The authors note std::mdspan <em>did not include</em> at( OtherIndexTypes ... indices ).</p>
   <h3 class="heading settled" data-level="4.9" id="resize-mapping_type"><span class="secno">4.9. </span><span class="content">Resize mapping_type</span><a class="self-link" href="#resize-mapping_type"></a></h3>
   <p>The layout policy and mapping concepts established by P0900 are insufficient for handling resizing of containers - likely because there was no need to address it. The current approach for the implementation is to isolate pieces of code where this is needed such that users may implement custom overloads.</p>
   <p>The mapping_type needs to provide a mechanism allowing for the container to resize. There are several possible approaches:</p>
   <ul>
    <li data-md>
     <p>enforce an additional container mapping concept which requires the mapping_type to provide an additional function:</p>
<pre class="highlight"><code class="language-c++ highlight"> <c- b><c- b>void</c-></c-> <c- nf><c- nf>resize</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>e</c-></c-> <c- p><c- p>);</c-></c-> </code> </pre>
    <li data-md>
     <p>another approach could be to enforce a copy-like constructor:</p>
<pre class="highlight"><code class="language-c++ highlight"> <c- b><c- b>void</c-></c-> <c- nf><c- nf>mapping_type</c-></c-><c- p><c- p>(</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>mapping_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>map</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>const</c-></c-> <c- n><c- n>extents_type</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>new_e</c-></c-> <c- p><c- p>);</c-></c-> </code> </pre>
     <p>However, this approach may be less efficient owing to an additional assignment required.</p>
   </ul>
   <h3 class="heading settled" data-level="4.10" id="-assume-restrict-p"><span class="secno">4.10. </span><span class="content">[[ assume( restrict( p ) ) ]]</span><a class="self-link" href="#-assume-restrict-p"></a></h3>
    C++23 introduced the assume attribute which could be used to achieve valarray-like vectorization performance. This would be feasable by adding a new function: 
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>consteval</c-></c-> <c- b><c- b>bool</c-></c-> <c- k><c- kr>restrict</c-></c-><c- p><c- p>(</c-></c-> <c- p><c- p>[[</c-></c-><c- n><c- n>maybe_unused</c-></c-><c- p><c- p>]]</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>*</c-></c-> <c- n><c- n>p</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>noexcept</c-></c-> <c- k><c- n>requires</c-></c-> <c- n><c- n>is_same_v</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>remove_reference_t</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>></c-></c-> <c- p><c- p>{</c-></c-> <c- k><c- k>return</c-></c-> true<c- p><c- p>;</c-></c-> <c- p><c- p>}</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-> <c- o><c- o>></c-></c->
<c- p><c- p>[[</c-></c-><c- n><c- n>nodiscard</c-></c-><c- p><c- p>]]</c-></c-> <c- k><c- n>consteval</c-></c-> <c- b><c- b>bool</c-></c-> <c- k><c- kr>restrict</c-></c-><c- p><c- p>(</c-></c-> <c- p><c- p>[[</c-></c-><c- n><c- n>maybe_unused</c-></c-><c- p><c- p>]]</c-></c-> <c- n><c- n>T</c-></c-><c- o><c- o>&amp;</c-></c-> <c- n><c- n>ref</c-></c-> <c- p><c- p>)</c-></c-> <c- k><c- n>noexcept</c-></c-> <c- k><c- n>requires</c-></c-> <c- n><c- n>is_same_v</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>remove_reference_t</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-> <c- o><c- o>></c-></c-> <c- p><c- p>{</c-></c-> <c- k><c- k>return</c-></c-> true<c- p><c- p>;</c-></c-> <c- p><c- p>}</c-></c->
</code></pre>
   <p>In the context of an [[ assume( ) ]],</p>
   <ul>
    <li data-md>
     <p>The assume statement is considered to have a lifetime equivalent to that of any real variable declaration; however, the compiler is not required to construct any object.</p>
    <li data-md>
     <p>The lifetime of the assume statement is unique to the calling thread and inaccesible from other threads.</p>
    <li data-md>
     <p>This function would allow the compiler to treat the pointer, p, or reference, ref, as a restrict pointer or reference in the same context as the C99 restrict keyword for the duration of the assume statement’s lifetime.</p>
   </ul>
   <p>The authors are aware there has been significant work over the years to introduce restrict-like behavior to C++. The authors believe this approach could significantly simplify some of the complexities of introducing this behavior by not requiring a new type specifier at all; rather, the existing pointer symmantics may be treated with additional guarantees for the lifetime of the assume statement.</p>
   <p>A shorter syntax may be to remove the assume altogether and introduce restrict as its own attribute. While shorter and acceptable, the authors also like the contractual language conveyed by assume.</p>
   <p>Understanding this could benefit the performance of tensor, the authors would like to gauge interest in this approach.</p>
   <h3 class="heading settled" data-level="4.11" id="vector-and-matrix-aliases"><span class="secno">4.11. </span><span class="content">Vector and Matrix Aliases</span><a class="self-link" href="#vector-and-matrix-aliases"></a></h3>
   <p>The authors would like to add additonal aliases to the standard as well for both convenience and clarity:</p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>namespace</c-></c-> <c- nn><c- n>std</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>R</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>C</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Allocator</c-></c->      <c- o><c- o>=</c-></c-> <c- n><c- n>allocator</c-></c-><c- p><c- p>,</c-></c-><t>
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>matrix</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>common_type_t</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>R</c-></c-><c- p><c- p>),</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>C</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>static_cast</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>R</c-></c-><c- p><c- p>),</c-></c-> <c- k><c- n>static_cast</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>C</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Allocator</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>N</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Allocator</c-></c->      <c- o><c- o>=</c-></c-> <c- n><c- n>allocator</c-></c-><c- p><c- p>,</c-></c-><t>
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>vector</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>N</c-></c-><c- p><c- p>),</c-></c-> <c- k><c- n>static_cast</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>N</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Allocator</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->

<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Extents</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>tensor_view</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>mdspan</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Extents</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>R</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>C</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>matrix_view</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>mdspan</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>common_type_t</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>R</c-></c-><c- p><c- p>),</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>C</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- k><c- n>static_cast</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>R</c-></c-><c- p><c- p>),</c-></c-> <c- k><c- n>static_cast</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>C</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>N</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>vector_view</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>mdspan</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- k><c- n>decltype</c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>N</c-></c-><c- p><c- p>),</c-></c-> <c- k><c- n>static_cast</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-><c- n><c- n>N</c-></c-><c- p><c- p>)</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->

<c- k><c- n>namespace</c-></c-> <c- nn><c- n>pmr</c-></c-> <c- p><c- p>{</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>Extents</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>tensor</c-></c-> <c- o><c- o>=</c-></c-> <c- o><c- o>::</c-></c-><c- n><c- n>std</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>Extents</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- o><c- o>::</c-></c-><c- n><c- n>std</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>pmr</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>polymorphic_allocator</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>R</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>C</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>matrix</c-></c-> <c- o><c- o>=</c-></c-> <c- o><c- o>::</c-></c-><c- n><c- n>std</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>matrix</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>R</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>C</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- o><c- o>::</c-></c-><c- n><c- n>std</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>pmr</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>polymorphic_allocator</c-></c-><c- p><c- p>,</c-></c-><t> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- k><c- n>class</c-></c-> <c- nc><c- n>T</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- k>auto</c-></c->  <c- n><c- n>N</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>LayoutPolicy</c-></c->   <c- o><c- o>=</c-></c-> <c- n><c- n>layout_right</c-></c-><c- p><c- p>,</c-></c->
           <c- k><c- n>class</c-></c-> <c- nc><c- n>AccessorPolicy</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>default_accessor</c-></c-> <t><c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>vector</c-></c-> <c- o><c- o>=</c-></c-> <c- o><c- o>::</c-></c-><c- n><c- n>std</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>vector</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>N</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>LayoutPolicy</c-></c-><c- p><c- p>,</c-></c-> <c- o><c- o>::</c-></c-><c- n><c- n>std</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>pmr</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>polymorphic_allocator</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>AccessorPolicy</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- p><c- p>}</c-></c->
<c- p><c- p>}</c-></c->
</t></t></t></t></t></t></t></t></t></t></t></code></pre>
   <p>There are some glaring issues with adding these:</p>
   <ul>
    <li data-md>
     <p>vector is already a well used std template class.</p>
     <ul>
      <li data-md>
       <p>If the desired direction is to separate tensor into fs_tensor and dr_tensor, then this issue may go away by using fs_vector and dr_vector. Although, there will still be some confusion in that fs_vector and dr_vector have no relation to vector.</p>
      <li data-md>
       <p>Are there alternative names or approaches that would be desired?</p>
     </ul>
    <li data-md>
     <p>tensor_view is just a renaming of mdspan. This could be confusing. It is also worth noting mdspan does not provide some member functions which tensor does, but does not require data ownership to perform.</p>
     <ul>
      <li data-md>
       <p>Is a separate tensor_view class which combines the interfaces of mdspan and tensor desired?</p>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="4.12" id="limitations-without-iterators"><span class="secno">4.12. </span><span class="content">Limitations without Iterators</span><a class="self-link" href="#limitations-without-iterators"></a></h3>
    Several functions have no reasonable general solution when neither of the following are true: 
<pre class="highlight"><code class="language-c++ highlight"><c- n><c- n>mapping_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_exhaustive</c-></c-><c- p><c- p>()</c-></c->
<c- n><c- n>mapping_type</c-></c-><c- o><c- o>::</c-></c-><c- n><c- n>is_always_unique</c-></c-><c- p><c- p>()</c-></c->
</code></pre>
   <p>These functions include:</p>
   <ul>
    <li data-md>
     <p>Constructors and assignmment operators on what amounts to one dimensional spans.</p>
    <li data-md>
     <p>Constructors and assignmment operators on disparate tensor types.</p>
    <li data-md>
     <p>Resize functions.</p>
    <li data-md>
     <p>Most algebraic functions</p>
   </ul>
   <p>If mapping_type::is_always_exhaustive() is true, then these functions may rely on iterating over the one dimensional span bounded by the required_span_size().
If the former is not true, but mapping_type::is_always_unique() is true, then these functions may rely on iterating over all valid combinations of indices and using the mapping object to access the desired element.</p>
   <p>If neither are true, then the authors believe a more definition of iterators within the context of multidimensional containers is needed.
Without such concepts, the current implementation is to isolate these functions in a way the user may provide custom overloads.</p>
   <h3 class="heading settled" data-level="4.13" id="mdslice-submdspan-or-subtensor"><span class="secno">4.13. </span><span class="content">mdslice, submdspan, or subtensor</span><a class="self-link" href="#mdslice-submdspan-or-subtensor"></a></h3>
    Accessing non-owning (potentially) sub-dimensional views of tensors is an important aspect to efficient implementation of linear algebraic functions. The authors of <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r18.html">P0009</a> have proposed a reasonable implementation to achieve this in proposal <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2630r3.html">P2630</a>. 
   <p>If standards committee prefers tensors to be a truer extension of valarray, then new classes mdslice and mdslice_array with similar functionality to gslice and gslice_array would be required.</p>
   <p>The authors of this proposal are preferential to the implementation of <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2630r3.html">P2630</a>; however, the authors are also partial to the subtensor naming (for obvious reasons). The authors also recognize a common naming scheme and implementation for both tensor and mdspan may be preferred.</p>
   <h3 class="heading settled" data-level="4.14" id="rank-one-extents-implicit-conversions"><span class="secno">4.14. </span><span class="content">Rank One Extents Implicit Conversions</span><a class="self-link" href="#rank-one-extents-implicit-conversions"></a></h3>
    One naturally expects to deal with less verbose syntax when dealing with rank one tensors. Currently, constructing a rank one tensor and accessing its length feels overly verbose: 
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>auto</c-></c-> <c- n><c- n>N</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>vector</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>N</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>dyn_vector</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>vector</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>dynamic_extent</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->

<c- b><c- b>size_t</c-></c-> <c- n><c- n>n</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>...;</c-></c->
<c- n><c- n>dyn_vector</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c-> <c- n><c- n>vec</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>dynamic_extent</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>)</c-></c-> <c- p><c- p>);</c-></c->
<c- b><c- b>size_t</c-></c-> <c- n><c- n>m</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>vec</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>extents</c-></c-><c- p><c- p>().</c-></c-><c- n><c- n>extent</c-></c-><c- p><c- p>(</c-></c-><c- mi><c- mi>0</c-></c-><c- p><c- p>);</c-></c->
</code></pre>
   <p>
    The code is clearly uglier than it need be.
If the standard was to adopt a specialization which allowed extents
    <tU0002Cdyn_extent>
      to be implicitly constructible from the underlying integer type as well as allow extents
     <tU0002Cn> to be implicitly convertible to the related integer type, then such code becomes significantly less verboseand feels more natural:</tU0002Cn>
    </tU0002Cdyn_extent>
   </p>
<pre class="highlight"><code class="language-c++ highlight"><c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- k><c- k>auto</c-></c-> <c- n><c- n>N</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>vector</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>tensor</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>extents</c-></c-><c- o><c- o>&lt;</c-></c-> <c- b><c- b>size_t</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>N</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->
<c- k><c- n>template</c-></c-> <c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c->
<c- k><c- n>using</c-></c-> <c- n><c- n>dyn_vector</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>vector</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- n><c- n>dynamic_extent</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c-><c- p><c- p>;</c-></c->

<c- b><c- b>size_t</c-></c-> <c- n><c- n>n</c-></c-> <c- o><c- o>=</c-></c-> <c- p><c- p>...;</c-></c->
<c- n><c- n>dyn_vector</c-></c-><c- o><c- o>&lt;</c-></c-> <c- n><c- n>T</c-></c-><c- p><c- p>,</c-></c-> <c- p><c- p>...</c-></c-> <c- o><c- o>></c-></c-> <c- n><c- n>vec</c-></c-><c- p><c- p>(</c-></c-> <c- n><c- n>n</c-></c-> <c- p><c- p>);</c-></c->
<c- b><c- b>size_t</c-></c-> <c- n><c- n>m</c-></c-> <c- o><c- o>=</c-></c-> <c- n><c- n>vec</c-></c-><c- p><c- p>.</c-></c-><c- n><c- n>extents</c-></c-><c- p><c- p>();</c-></c->
</code></pre>
   <p>The authors would like to gauge interest in allowing such specializations.</p>
   <h2 class="heading settled" data-level="5" id="considered-not-pursued"><span class="secno">5. </span><span class="content">Considered. Not Pursued.</span><a class="self-link" href="#considered-not-pursued"></a></h2>
   <p>Below are additional topics which may merit additional discussion.</p>
   <h3 class="heading settled" data-level="5.1" id="multi-dimensional-iterators"><span class="secno">5.1. </span><span class="content">Multi-dimensional Iterators</span><a class="self-link" href="#multi-dimensional-iterators"></a></h3>
    Iterators which operate on multidimensional containers and views is a key concept not yet introduced to the standard. While the lack of them complicates certain implementations, the authors are choosing not to pursue defining these for a several reasons: 
   <ul>
    <li data-md>
     <p>The authors would like to establish the basic implementation of tensor first and then revisit the issue of iterators - much like mdspan.</p>
    <li data-md>
     <p>Previous versions of <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r18.html">P0009</a> mentioned iterators. If this issue is already being worked, the authors do not wish to duplicate effort unnecessarily.</p>
    <li data-md>
     <p>Multi-dimensional iterators is a complex concept likely requiring its own proposal.</p>
   </ul>
   <h3 class="heading settled" data-level="5.2" id="inverse-eigen-vectors-and-everything-else"><span class="secno">5.2. </span><span class="content">Inverse, Eigen Vectors, and Everything Else</span><a class="self-link" href="#inverse-eigen-vectors-and-everything-else"></a></h3>
    There are too many useful functions which operate on various kinds of tensors. It is not feasable to introduce them all in a single proposal. This proposal seeks to build a foundation for future work while providing some basic functions. 
   <h3 class="heading settled" data-level="5.3" id="additional-stl-vector-like-functions"><span class="secno">5.3. </span><span class="content">Additional STL Vector-like functions</span><a class="self-link" href="#additional-stl-vector-like-functions"></a></h3>
    Some consideration was given to provide additional vector-like functions such as push_back, emplace_back, pop_back, insert, erase, ... 
   <p>The authors felt additional clarity must be provided first - particularly on the issue of fixed size tensors.</p>
   <p>Additionally, single elements cannot simply be pushed; rather, entire subrank tensors would be added and removed. Considerable thought must given to the form those tensors would taken and how they would interact with existing mapping constructs.</p>
   <h3 class="heading settled" data-level="5.4" id="comparison-operators"><span class="secno">5.4. </span><span class="content">Comparison Operators</span><a class="self-link" href="#comparison-operators"></a></h3>
    Comparison operators do have value to higher level math objects; however, such comparisons are defined using a <em>norm</em>. Additional work is needed to define how such norms should interact with existing comparison and sorting paradigms. The authors chose not to include this in the scope of this proposal. 
   <h3 class="heading settled" data-level="5.5" id="element-wise-multiply-and-divide"><span class="secno">5.5. </span><span class="content">Element-wise Multiply and Divide</span><a class="self-link" href="#element-wise-multiply-and-divide"></a></h3>
    Element-wise (or Hadamard) multiply and divide was additionally considered. The authors note other langauges like MATLAB and Python provide operator like syntax for achieving this. The authors want to gauge interest before pursuing. 
   <h3 class="heading settled" data-level="5.6" id="tensor-bool"><span class="secno">5.6. </span><span class="content">tensor&lt; bool, ... ></span><a class="self-link" href="#tensor-bool"></a></h3>
    A specialization of tensor analogous to vector
   <bool>
     was considered. (Very briefly) 
    <h3 class="heading settled" data-level="5.7" id="non-contiguous-buffers"><span class="secno">5.7. </span><span class="content">Non-contiguous buffers</span><a class="self-link" href="#non-contiguous-buffers"></a></h3>
    <h2 class="heading settled" data-level="6" id="acknowledge"><span class="secno">6. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledge"></a></h2>
    <h2 class="heading settled" data-level="7" id="related"><span class="secno">7. </span><span class="content">Related Work</span><a class="self-link" href="#related"></a></h2>
     In work. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r18.html">P0009</a> <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1385r7.pdf">P1385</a> <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2630r3.html">P2630</a> <a href="https://isocpp.org/files/papers/D1684R0.html">D1684</a> 
   </bool>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>